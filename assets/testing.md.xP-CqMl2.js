import{_ as e,o as i,c as t,a2 as a}from"./chunks/framework.CUre4L63.js";const u=JSON.parse('{"title":"Testing Vitals Locally","description":"","frontmatter":{},"headers":[],"relativePath":"testing.md","filePath":"testing.md","lastUpdated":1765184252000}'),n={name:"testing.md"};function l(o,s,h,r,p,d){return i(),t("div",null,[...s[0]||(s[0]=[a(`<h1 id="testing-vitals-locally" tabindex="-1">Testing Vitals Locally <a class="header-anchor" href="#testing-vitals-locally" aria-label="Permalink to &quot;Testing Vitals Locally&quot;">​</a></h1><p>This guide will help you test the Vitals extension with a real, local Prometheus instance.</p><h2 id="prerequisites" tabindex="-1">Prerequisites <a class="header-anchor" href="#prerequisites" aria-label="Permalink to &quot;Prerequisites&quot;">​</a></h2><ul><li><strong>Docker</strong>: To easily run a Prometheus server.</li><li><strong>Node.js &amp; npm</strong>: To build the extension.</li><li><strong>VS Code</strong>: To run the extension in debug mode.</li></ul><h2 id="step-1-start-a-local-prometheus-instance" tabindex="-1">Step 1: Start a Local Prometheus Instance <a class="header-anchor" href="#step-1-start-a-local-prometheus-instance" aria-label="Permalink to &quot;Step 1: Start a Local Prometheus Instance&quot;">​</a></h2><p>The easiest way to run Prometheus is via Docker. We will also configure it to scrape itself so we have some metrics to view.</p><ol><li><p>Create a file named <code>prometheus.yml</code> in a temporary directory (e.g., <code>tmp/prometheus.yml</code>) with the following content:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">global</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  scrape_interval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">15s</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">scrape_configs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">job_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;prometheus&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    static_configs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">targets</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;localhost:9090&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div></li><li><p>Run the Prometheus container:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 9090:9090</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /path/to/your/tmp/prometheus.yml:/etc/prometheus/prometheus.yml</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prom/prometheus</span></span></code></pre></div><p><em>(Replace <code>/path/to/your/tmp/prometheus.yml</code> with the absolute path to the file you created).</em></p><p>Alternatively, for a quick test without a custom config (it usually scrapes itself by default):</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 9090:9090</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prom/prometheus</span></span></code></pre></div></li><li><p>Verify Prometheus is running by visiting <code>http://localhost:9090</code> in your browser.</p></li></ol><h2 id="step-2-build-and-run-the-extension" tabindex="-1">Step 2: Build and Run the Extension <a class="header-anchor" href="#step-2-build-and-run-the-extension" aria-label="Permalink to &quot;Step 2: Build and Run the Extension&quot;">​</a></h2><ol><li><p>Open the \`\` project in VS Code.</p></li><li><p>Install dependencies (if you haven&#39;t already):</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span></code></pre></div></li><li><p>Start the build watcher for both the extension and the webview:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> watch</span></span></code></pre></div></li><li><p>Press <strong>F5</strong> (or go to <strong>Run and Debug</strong> &gt; <strong>Run Extension</strong>) to open a new VS Code window with the extension loaded.</p></li></ol><h2 id="step-3-configure-the-extension" tabindex="-1">Step 3: Configure the Extension <a class="header-anchor" href="#step-3-configure-the-extension" aria-label="Permalink to &quot;Step 3: Configure the Extension&quot;">​</a></h2><p>In the new <strong>Extension Development Host</strong> window:</p><ol><li>Open <strong>Settings</strong> (<code>Ctrl+,</code> or <code>Cmd+,</code>).</li><li>Search for <code>Vitals</code>.</li><li>Ensure <code>Vitals: Prometheus Url</code> is set to <code>http://localhost:9090</code>.</li></ol><h2 id="step-4-open-the-dashboard" tabindex="-1">Step 4: Open the Dashboard <a class="header-anchor" href="#step-4-open-the-dashboard" aria-label="Permalink to &quot;Step 4: Open the Dashboard&quot;">​</a></h2><ol><li>Open the Command Palette (<code>Ctrl+Shift+P</code> or <code>Cmd+Shift+P</code>).</li><li>Run the command: <code>Vitals: Open Vitals</code>.</li><li>The dashboard should open in a new panel.</li></ol><h2 id="step-5-verification" tabindex="-1">Step 5: Verification <a class="header-anchor" href="#step-5-verification" aria-label="Permalink to &quot;Step 5: Verification&quot;">​</a></h2><ul><li><strong>Metrics</strong>: You should see a chart displaying the <code>up</code> metric (or whichever query is hardcoded in <code>useData.ts</code>). It should show a value of <code>1</code>.</li><li><strong>Alerts</strong>: If you configured any alerts in Prometheus, they will appear in the Alert Panel.</li><li><strong>Logs</strong>: The Log Viewer will currently show mock data (as implemented).</li></ul><h2 id="troubleshooting" tabindex="-1">Troubleshooting <a class="header-anchor" href="#troubleshooting" aria-label="Permalink to &quot;Troubleshooting&quot;">​</a></h2><ul><li><strong>&quot;Failed to fetch metrics&quot;</strong>: <ul><li>Ensure Prometheus is running at <code>http://localhost:9090</code>.</li><li>Check if the extension host can access <code>localhost</code>.</li></ul></li><li><strong>Empty Chart</strong>: <ul><li>Wait a few seconds for Prometheus to scrape some data.</li><li>Verify the query in <code>useData.ts</code> is valid (currently <code>up</code>).</li></ul></li></ul>`,18)])])}const k=e(n,[["render",l]]);export{u as __pageData,k as default};
